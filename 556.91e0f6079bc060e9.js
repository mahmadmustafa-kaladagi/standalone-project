"use strict";(self.webpackChunkstandaloneProject=self.webpackChunkstandaloneProject||[]).push([[556],{9556:(J,m,l)=>{l.r(m),l.d(m,{FORM_ROUTES:()=>D});var c=l(6814),e=l(6689),a=l(95),g=l(8863);let v=(()=>{var n;class i{constructor(){this.refEleStyles={}}onKeyEnter(t){"Enter"===t.key&&(t.target.click(),this.refEleStyles={})}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","onEnter",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("keydown",function(h){return o.onKeyEnter(h)}),2&t&&e.Akn(o.refEleStyles)},standalone:!0}),i})();var u=l(5290),y=l(8368);location;var p=l(7398),F=l(2096);let f=(()=>{var n;class i{constructor(){this.apiService=(0,e.f3M)(g.s)}checkUsername(){return t=>this.apiService.getUserNames().pipe((0,p.U)(o=>o.includes(t.value)?{invalidHobbie:!0}:null))}validateUsername(t){return new Promise((s,h)=>{setTimeout(()=>{"test"===t.value.toLowerCase()?s({invalidHobby:!0}):s(null)},500)})}checkUserName(){return t=>(this.apiService.getUserNames().subscribe(o=>{t.setErrors(o?{ex:!0}:null)}),(0,F.of)(null))}UsernamesCheck(){return t=>this.apiService.getUserNames().pipe((0,p.U)(o=>o?{invalidName:!0}:null))}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),i})();const b=function(n){return{valid:n}};function C(n,i){if(1&n&&(e.ynx(0),e.GkF(1,3),e.BQk()),2&n){const r=i.$implicit;e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,b,r))}}function E(n,i){if(1&n&&(e.ynx(0),e.GkF(1,3),e.BQk()),2&n){const r=i.$implicit;e.oxw(2);const t=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,b,r))}}function x(n,i){if(1&n&&(e.ynx(0),e.YNc(1,C,2,4,"ng-container",2),e.YNc(2,E,2,4,"ng-container",2),e.BQk()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.fieldData.validations),e.xp6(1),e.Q6J("ngForOf",r.fieldData.asyncValidations)}}function O(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const r=e.oxw().valid,t=e.oxw();e.Gre("error-message ",t.className,""),e.xp6(1),e.hij(" ",r.message," ")}}function k(n,i){if(1&n&&e.YNc(0,O,2,4,"div",4),2&n){const r=i.valid,t=e.oxw();let o;e.Q6J("ngIf",((null==(o=t.group.get(t.fieldData.name))?null:o.touched)||(null==(o=t.group.get(t.fieldData.name))?null:o.dirty))&&(null==(o=t.group.get(t.fieldData.name))?null:o.hasError(r.name)))}}let T=(()=>{var n;class i{constructor(){this.customMsg=""}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["error-msg"]],inputs:{group:"group",fieldData:"fieldData",customMsg:"customMsg",className:"className"},standalone:!0,features:[e.jDz],decls:3,vars:1,consts:[[4,"ngIf"],["errorBlock",""],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"]],template:function(t,o){1&t&&(e.YNc(0,x,3,2,"ng-container",0),e.YNc(1,k,1,1,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",o.fieldData&&o.fieldData.validations&&o.fieldData.asyncValidations)},dependencies:[c.O5,c.ax,c.tP],styles:[".error-message[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:13px;letter-spacing:.4px;color:#e00;position:absolute}"]}),i})();function N(n,i){1&n&&(e.TgZ(0,"div",13),e._uU(1," Enter username "),e.qZA())}function A(n,i){if(1&n&&(e.ynx(0)(1,14),e._UZ(2,"input",15)(3,"error-msg",16)(4,"br"),e.BQk()()),2&n){const r=i.$implicit,t=e.oxw();e.xp6(1),e.Q6J("formGroup",r),e.xp6(2),e.Q6J("fieldData",t.inputFields.hobbie)("group",r)}}const D=[{path:"",component:(()=>{var n;class i{ngAfterViewInit(){this.foo=!0}constructor(){this.asyncValidations=(0,e.f3M)(f),this.HobbiesJson=[{name:"hobbie",type:"input",value:"",validations:[{name:"required",validator:a.kI.required,message:"Enter a hobbie"}],asyncValidations:[{name:"invalidHobbie",validator:this.asyncValidations.checkUsername(),message:"Invalid hobbie"},{name:"invalidHobby",validator:this.asyncValidations.validateUsername,message:"Hobby invalid..."}]}],this.subscription=(0,e.f3M)(y.Y),this.apiService=(0,e.f3M)(g.s),this.fb=(0,e.f3M)(a.qu),this.foo=!1,this.env=true,this.inputFields=u.m.getControlAsKey(this.HobbiesJson),this.createInitialControls(),this.patchValue()}disposeSubscriptions(){this.subscription.dispose()}createInitialControls(){const t=this.fb.nonNullable.group({}),o=this.fb.nonNullable.control("",a.kI.required);t.addControl("username",o);const s=this.fb.nonNullable.array([]);t.addControl("hobbies",s),this.userForm=t}patchValue(){const t=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("foo"))));t||this.addHobbie(),t?.hobbies?.forEach(o=>{this.addHobbie()}),this.userForm.patchValue(t)}addHobbie(){const t=this.userForm.get("hobbies"),o=u.m.createControl(this.HobbiesJson);t.push(o)}loremClick(){alert("Using custom directive...Clicked...!")}get hobbiesControls(){return this.userForm.get("hobbies").controls}submit(){this.userForm.invalid?u.m.checkForInvalidControls(this.userForm):(console.log(this.userForm.value),localStorage.setItem("foo",JSON.stringify(this.userForm.value)))}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:17,vars:4,consts:[[1,"container","mt-3","mb-3"],[1,"row"],[1,"col-lg-12"],["tabindex","0","onEnter","",1,"mmk",3,"click"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group","mb-4","mt-3","position-relative"],["formControlName","username","type","text","name","fdf","id","ljl","placeholder","Enter name",1,"form-control"],["class","error-message",4,"ngIf"],[1,"form-group","mt-3","position-relative"],["formArrayName","hobbies"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","mt-2",3,"click"],["type","submit",1,"btn","btn-primary","mt-3"],[1,"error-message"],[3,"formGroup"],["formControlName","hobbie","type","text","name","fdf","id","ljl","placeholder","Enter a hobbie",1,"form-control"],[3,"fieldData","group"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.TgZ(3,"div",2)(4,"p",3),e.NdJ("click",function(){return o.loremClick()}),e._uU(5,"lorem"),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.YNc(9,N,2,0,"div",7),e.qZA(),e.TgZ(10,"div",8),e.ynx(11,9),e.YNc(12,A,5,3,"ng-container",10),e.TgZ(13,"button",11),e.NdJ("click",function(){return o.addHobbie()}),e._uU(14,"Add +"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(15,"button",12),e._uU(16,"Submit"),e.qZA()()()()()),2&t){let s;e.xp6(2),e.hij(" ",o.userForm.valid," "),e.xp6(4),e.Q6J("formGroup",o.userForm),e.xp6(3),e.Q6J("ngIf",((null==(s=o.userForm.get("username"))?null:s.touched)||(null==(s=o.userForm.get("username"))?null:s.dirty))&&(null==(s=o.userForm.get("username"))?null:s.hasError("required"))),e.xp6(3),e.Q6J("ngForOf",o.hobbiesControls)}},dependencies:[c.ez,c.sg,c.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.CE,v,T],styles:["[_ngcontent-%COMP%]:root{--primary-color: #fb0;--primary-hyperlink-color: #fa0;--grey-98: #FAFAFA;--grey-100: #f5f5f5;--grey-450: #dddddd;--grey-550: #999999;--grey-800: #444444;--grey-700: #4A4A4A;--green-100: #ebfeec;--green-500: #00aa55;--red-500: #EE0000;--white: #ffffff;--black: #000000;--floral-white: #FFFAEB;--floral-cover: #FFEBB3;--floral-green: #0BB86B;--bg-color: #F8F8F8;--partner-color: #98144D;--partner-border: #DDDDDD;--linear-white: #FFF8E4}[_ngcontent-%COMP%]:focus:not(input, button)[_ngcontent-%COMP%]{background-color:#ffbb0038;width:max-content;outline:1px solid rgba(255,187,0,.2196078431);border-radius:2px}"]}),i})(),providers:[f]}]}}]);